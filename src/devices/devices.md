Device handling code in Rust, replacing the original C implementations.
